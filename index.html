<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contract Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
        }
        label {
            display: block;
            margin-top: 10px;
            font-weight: bold;
        }
        input, textarea {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            box-sizing: border-box;
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
    <h1>Contract Generator</h1>
    <form id="contractForm">
        <label for="employerName">Employer's Full Name:</label>
        <input type="text" id="employerName" required>

        <label for="employeeName">Employee's Full Name:</label>
        <input type="text" id="employeeName" required>

        <label for="agreementDate">Date of Agreement:</label>
        <input type="date" id="agreementDate" required>

        <label for="startDate">Start Date of Employment:</label>
        <input type="date" id="startDate" required>

        <label for="jobDescription">Job Description:</label>
        <textarea id="jobDescription" rows="4" required></textarea>

        <label for="workingHours">Working Hours (e.g., 8:00 AM - 5:00 PM):</label>
        <input type="text" id="workingHours" required>

        <label for="salary">Salary (e.g., R5000 per month):</label>
        <input type="text" id="salary" required>

        <label for="leaveEntitlement">Leave Entitlement (e.g., 15 days per year):</label>
        <input type="text" id="leaveEntitlement" required>

        <label for="terminationConditions">Termination Conditions:</label>
        <textarea id="terminationConditions" rows="4" required></textarea>

        <label for="employerSignature">Employer Signature (type your name):</label>
        <input type="text" id="employerSignature" required>

        <label for="employeeSignature">Employee Signature (type your name):</label>
        <input type="text" id="employeeSignature" required>

        <button type="submit">Generate Contract</button>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        const { jsPDF } = window.jspdf;

        document.getElementById('contractForm').addEventListener('submit', function(event) {
            event.preventDefault();

            // Collect form data
            const employerName = document.getElementById('employerName').value;
            const employeeName = document.getElementById('employeeName').value;
            const agreementDate = document.getElementById('agreementDate').value;
            const startDate = document.getElementById('startDate').value;
            const jobDescription = document.getElementById('jobDescription').value;
            const workingHours = document.getElementById('workingHours').value;
            const salary = document.getElementById('salary').value;
            const leaveEntitlement = document.getElementById('leaveEntitlement').value;
            const terminationConditions = document.getElementById('terminationConditions').value;
            const employerSignature = document.getElementById('employerSignature').value;
            const employeeSignature = document.getElementById('employeeSignature').value;

            // Create new PDF
            const doc = new jsPDF({
                orientation: 'portrait',
                unit: 'mm',
                format: 'a4'
            });

            // Set document properties
            doc.setProperties({
                title: 'Employment Contract',
                author: 'Generated by Contract Generator'
            });

            // Define margins and starting position
            const margin = 10;
            let yPosition = margin;

            // Title
            doc.setFontSize(16);
            doc.setFont('helvetica', 'bold');
            doc.text('Employment Contract', margin, yPosition, { align: 'left' });
            yPosition += 10;

            // Agreement Date
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text(`Date of Agreement: ${agreementDate}`, margin, yPosition);
            yPosition += 10;

            // Parties
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('Parties to the Agreement', margin, yPosition);
            yPosition += 7;
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text(`Employer: ${employerName}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Employee: ${employeeName}`, margin, yPosition);
            yPosition += 10;

            // Terms of Employment
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('Terms of Employment', margin, yPosition);
            yPosition += 7;
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text(`Start Date: ${startDate}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Job Description:`, margin, yPosition);
            yPosition += 5;
            const jobLines = doc.splitTextToSize(jobDescription, 190);
            doc.text(jobLines, margin, yPosition);
            yPosition += jobLines.length * 5 + 2;
            doc.text(`Working Hours: ${workingHours}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Salary: ${salary}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Leave Entitlement: ${leaveEntitlement}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Termination Conditions:`, margin, yPosition);
            yPosition += 5;
            const termLines = doc.splitTextToSize(terminationConditions, 190);
            doc.text(termLines, margin, yPosition);
            yPosition += termLines.length * 5 + 10;

            // Signatures
            doc.setFontSize(14);
            doc.setFont('helvetica', 'bold');
            doc.text('Signatures', margin, yPosition);
            yPosition += 7;
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text(`Signed by Employer: ${employerSignature}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Signed by Employee: ${employeeSignature}`, margin, yPosition);
            yPosition += 7;
            doc.text(`Date: ${agreementDate}`, margin, yPosition);

            // Add page numbers
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                doc.setFontSize(10);
                doc.text(`Page ${i} of ${pageCount}`, 190, 287, { align: 'right' });
            }

            // Save the PDF
            doc.save('domestic_worker_contract.pdf');
        });
    </script>
</body>
</html>